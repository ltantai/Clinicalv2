<div class="bread-crumb">
    <app-breadcrumb [items]="items"></app-breadcrumb>
</div>
<div class="patient-detail-container">
    <div class="row">
        <div class="col-lg-6 col-md-6 col-xs-12">
            <div class="patient-info mb-3">
                <div class="info-lbl">Thông tin cá nhân:</div>
                <div class="d-flex mt-3 ps-3">
                    <div>
                        <label class="fw-bold">Họ và tên:</label>
                        <div>
                            {{dataSource.patientName}}
                        </div>
                    </div>
                    <div class="ms-5">
                        <label class="fw-bold">Giới tính:</label>
                        <div>
                            {{dataSource.gender.value}}
                        </div>
                    </div>
                    <div class="ms-5">
                        <label class="fw-bold">Tuổi:</label>
                        <div>
                            {{dataSource.age}}
                        </div>
                    </div>
                </div>
        
                <div class="address ps-3 mt-2">
                    <label class="fw-bold">Địa chỉ:</label>
                    <div>
                        {{dataSource.address}}
                    </div>
                </div>
            </div>
        
            <div class="diagnostic mb-3">
                <div class="info-lbl">
                    Chuẩn đoán:
                </div>
                <div class="mt-3 ps-3">
                    <div class="mt-2">
                        <label class="fw-bold">Tuyến dưới:</label>
                        <div>
                            {{dataSource.diagnostic.lowerLevel}}
                        </div>
                    </div>
                    <div class="mt-2">
                        <label class="fw-bold">Khoa khám bệnh:</label>
                        <div>
                            {{dataSource.diagnostic.department}}
                        </div>
                    </div>
                </div>
            </div>

            <!-- TODO:: Need to implement -->
            <div class="prescription mb-3">
                <div class="info-lbl">
                    Đơn thuốc:
                </div>
                <div class="mt-3 ps-3">
                    <div class="mt-2">
                        <label class="fw-bold">Tuyến dưới:</label>
                        <div>
                            {{dataSource.diagnostic.lowerLevel}}
                        </div>
                    </div>
                    <div class="mt-2">
                        <label class="fw-bold">Khoa khám bệnh:</label>
                        <div>
                            {{dataSource.diagnostic.department}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-6 col-md-6 col-xs-12">
            <div>
                <div class="info-lbl">
                    Điều trị:
                </div>
                <div class="mt-3 ps-3">
                    <div class="treatment mt-2">
                        <label class="fw-bold">Chỉ định điều trị:</label>
                        <div>
                            {{dataSource.treatmentIndication}}
                        </div>
                    </div>
                
                    <div class="doctor-info mt-2">
                        <label class="fw-bold">Họ và tên bác sĩ khám bệnh:</label>
                        <div class="">
                            {{dataSource.doctorName}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Actions -->
    <div class="d-flex justify-content-end">
        <div>
            <p-button class="add-btn" label="Chỉnh sửa" (onClick)="onEdit()"></p-button>
        </div>
        <!-- <div class="ms-3">
            <p-button severity="secondary" label="Xóa"></p-button>
        </div> -->
    </div>
</div>

<div>
    <p-dialog header="Chỉnh sửa" [modal]="true" [(visible)]="visible" [style]="{ width: '50vw' }" (onHide)="onHide()">
        <span class="p-text-secondary block mb-3">Cập nhật thông tin bệnh nhân.</span>
        <app-patient-form [formData]="dataSource" [isEdit]="true"></app-patient-form>
    </p-dialog>
</div>
